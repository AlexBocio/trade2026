# Trade2026 Environment Variables Template
# Copy this file to .env and fill in values
#
# IMPORTANT: .env is in .gitignore - never commit secrets!
#
# Last Updated: 2025-10-14

# ==========================================
# CORE INFRASTRUCTURE
# ==========================================

# NATS - Message Streaming (JetStream)
NATS_URL=nats://nats:4222
NATS_MONITORING_URL=http://nats:8222

# Valkey - Redis-compatible cache/state store
VALKEY_URL=redis://valkey:6379
VALKEY_MAX_MEMORY=2gb
VALKEY_MAX_MEMORY_POLICY=allkeys-lru

# QuestDB - Time-series database
QUESTDB_HTTP_URL=http://questdb:9000
QUESTDB_PG_URL=postgresql://admin:quest@questdb:8812/qdb
QUESTDB_ILP_URL=tcp::addr=questdb:9009
QUESTDB_CAIRO_COMMIT_LAG=1000

# ClickHouse - OLAP Analytics Database
CLICKHOUSE_HTTP_URL=http://clickhouse:8123
CLICKHOUSE_TCP_HOST=clickhouse
CLICKHOUSE_TCP_PORT=9000
CLICKHOUSE_DB=trade2026
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# SeaweedFS - S3-compatible object storage
SEAWEEDFS_S3_ENDPOINT=http://seaweedfs:8333
SEAWEEDFS_MASTER_URL=http://seaweedfs:9333
SEAWEEDFS_FILER_URL=http://seaweedfs:8080
SEAWEEDFS_ACCESS_KEY=trade2026
SEAWEEDFS_SECRET_KEY=trade2026secret

# OpenSearch - Full-text search engine
OPENSEARCH_URL=http://opensearch:9200
OPENSEARCH_USER=admin
OPENSEARCH_PASSWORD=
OPENSEARCH_JAVA_OPTS=-Xms1g -Xmx1g

# Authentication Service
AUTHN_URL=http://authn:8114
AUTHN_JWKS_URL=http://authn:8114/.well-known/jwks.json
JWT_ISSUER=authn
JWT_AUDIENCE=trade2026
JWT_EXPIRATION_SECONDS=3600
JWT_ALGORITHM=RS256

# Authorization Service (OPA)
OPA_URL=http://opa:8181
OPA_POLICY_PATH=/v1/data

# ==========================================
# SERVICE CLIENT SECRETS
# ==========================================

# Service authentication (for mTLS/JWT client credentials flow)
# IMPORTANT: Generate strong secrets for production
OMS_CLIENT_SECRET=dev-secret-srv:oms
RISK_CLIENT_SECRET=dev-secret-srv:risk
PTRC_CLIENT_SECRET=dev-secret-srv:ptrc
GATEWAY_CLIENT_SECRET=dev-secret-srv:gateway

# ==========================================
# BACKEND SERVICES (Phase 2 - Add when ready)
# ==========================================

# Gateway - Market Data Gateway
# GATEWAY_URL=http://gateway:8080
# GATEWAY_PORT=8080
# GATEWAY_METRICS_PORT=9080

# OMS - Order Management System
# OMS_URL=http://oms:8099
# OMS_PORT=8099
# OMS_METRICS_PORT=9099

# Risk Service - Pre-trade risk checks
# RISK_URL=http://risk:8103
# RISK_PORT=8103
# RISK_METRICS_PORT=9103

# Execution Service - Order routing & execution
# EXECUTION_URL=http://execution:8104
# EXECUTION_PORT=8104

# Fill Processor - Post-trade fill processing
# FILLPROCESSOR_URL=http://fillprocessor:8105
# FILLPROCESSOR_PORT=8105

# Position Tracker - Real-time positions
# POSITIONTRACKER_URL=http://positiontracker:8106
# POSITIONTRACKER_PORT=8106

# PnL Calculator - P&L computation
# PNL_URL=http://pnl:8107
# PNL_PORT=8107

# PTRC - Portfolio, Trades, Risk, Compliance
# PTRC_URL=http://ptrc:8108
# PTRC_PORT=8108

# ==========================================
# FRONTEND (Phase 3 - Add when ready)
# ==========================================

# Frontend application
# FRONTEND_URL=http://localhost:5173
# FRONTEND_PORT=5173
# VITE_API_BASE_URL=http://localhost:8080

# ==========================================
# ML LIBRARY (Phase 4 - Add when ready)
# ==========================================

# ML Model serving
# LIBRARY_URL=http://library:8350
# LIBRARY_PORT=8350

# Feature store
# FEATURE_STORE_URL=http://feature-store:8351

# ==========================================
# EXTERNAL SERVICES (Fill in your API keys)
# ==========================================

# Binance Exchange
BINANCE_API_KEY=
BINANCE_SECRET=
BINANCE_TESTNET=true
BINANCE_TESTNET_URL=https://testnet.binance.vision/api

# Alpaca Markets
ALPACA_API_KEY=
ALPACA_SECRET=
ALPACA_PAPER=true
ALPACA_BASE_URL=https://paper-api.alpaca.markets

# Interactive Brokers
IB_HOST=127.0.0.1
IB_PORT=7497
IB_CLIENT_ID=1

# ==========================================
# MONITORING & OBSERVABILITY
# ==========================================

# Prometheus (Phase 2+)
# PROMETHEUS_URL=http://prometheus:9090

# Grafana (Phase 2+)
# GRAFANA_URL=http://grafana:3000
# GRAFANA_ADMIN_PASSWORD=

# ==========================================
# DEVELOPMENT SETTINGS
# ==========================================

# Environment
ENVIRONMENT=development

# Debug mode
DEBUG=false

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# ==========================================
# PATHS (Usually don't need to change)
# ==========================================

# Data directory (persistent volumes)
DATA_PATH=../../data

# Config directory
CONFIG_PATH=../../config

# Secrets directory
SECRETS_PATH=../../secrets

# ==========================================
# NETWORK CONFIGURATION (CPGS v1.0)
# ==========================================

# Frontend network
FRONTEND_NETWORK=trade2026-frontend
FRONTEND_SUBNET=172.23.0.0/16

# Low-latency network
LOWLATENCY_NETWORK=trade2026-lowlatency
LOWLATENCY_SUBNET=172.22.0.0/16

# Backend network
BACKEND_NETWORK=trade2026-backend
BACKEND_SUBNET=172.21.0.0/16
